<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model Validation · CausalELM.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://dscolby.github.io/CausalELM.jl/reference/validation/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="CausalELM.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">CausalELM.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">CausalELM</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../guide/its/">Interrupted Time Series Estimation</a></li><li><a class="tocitem" href="../../guide/gcomputation/">G-computation</a></li><li><a class="tocitem" href="../../guide/doublemachinelearning/">Double Machine Learning</a></li><li><a class="tocitem" href="../../guide/metalearners/">Metalearners</a></li></ul></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../api/">CausalELM</a></li><li><a class="tocitem" href="../activations/">Activation Functions</a></li><li><a class="tocitem" href="../crossval/">Cross Validation</a></li><li><a class="tocitem" href="../estimation/">ATE/ATT/ITE Estimation</a></li><li><a class="tocitem" href="../metalearners/">CATE Estimation</a></li><li><a class="tocitem" href="../inference/">Inference and Summarization</a></li><li class="is-active"><a class="tocitem" href>Model Validation</a></li><li><a class="tocitem" href="../metrics/">Validation Metrics</a></li><li><a class="tocitem" href="../base/">Base Models</a></li></ul></li><li><a class="tocitem" href="../../contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Reference</a></li><li class="is-active"><a href>Model Validation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model Validation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/dscolby/CausalELM.jl/blob/main/docs/src/reference/validation.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-Validation"><a class="docs-heading-anchor" href="#Model-Validation">Model Validation</a><a id="Model-Validation-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Validation" title="Permalink"></a></h1><p>Methods to validate causal modeling assumptions of an estimated model</p><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation" href="#CausalELM.ModelValidation"><code>CausalELM.ModelValidation</code></a> — <span class="docstring-category">Module</span></header><section><div><p>Methods to test the sensitivity of interrupted time series estimators, G-computation, double  machine learning, S-learners, T-learners, and X-learners to violations of their modeling  assumptions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.validate" href="#CausalELM.ModelValidation.validate"><code>CausalELM.ModelValidation.validate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">validate(its; n, low, high)</code></pre><p>Test the validity of an estimated interrupted time series analysis.</p><p>This method coducts a Chow Test, a Wald supremeum test, and tests the model&#39;s sensitivity to  confounders. The Chow Test tests for structural breaks in the covariates between the time  before and after the event. p-values represent the proportion of times the magnitude of the  break in a covariate would have been greater due to chance. Lower p-values suggest a higher  probability the event effected the covariates and they cannot provide unbiased  counterfactual predictions. The Wald supremum test finds the structural break with the  highest Wald statistic. If this is not the same as the hypothesized break, it could indicate  an anticipation effect, a confounding event, or that the intervention or policy took place  in multiple phases. p-values represent the proportion of times we would see a larger Wald  statistic if the data points were randomly allocated to pre and post-event periods for the  predicted structural break. Ideally, the hypothesized break will be the same as the  predicted break and it will also have a low p-value. The omitted predictors test adds  normal random variables with uniform noise as predictors. If the included covariates are  good predictors of the counterfactual outcome, adding irrelevant predictors should not have  a large effect on the predicted counterfactual outcomes or the estimated effect.</p><p>For more details on the assumptions and validity of interrupted time series designs, see:     Baicker, Katherine, and Theodore Svoronos. Testing the validity of the single      interrupted time series design. No. w26080. National Bureau of Economic Research, 2019.</p><ul><li>Note that this method does not implement the second test in Baicker and Svoronos because </li></ul><p>the estimator in this package models the relationship between covariates and the outcome and  uses an extreme learning machine instead of linear regression, so variance in the outcome  across different bins is not much of an issue.</p><p>For a primer on randomization inference see:      https://www.mattblackwell.org/files/teaching/s05-fisher.pdf</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; X₀, Y₀, X₁, Y₁ =  rand(100, 5), rand(100), rand(10, 5), rand(10)
julia&gt; m1 = InterruptedTimeSeries(X₀, Y₀, X₁, Y₁)
julia&gt; estimate_causal_effect!(m1)
[0.25714308]
julia&gt; validate(m1)
{&quot;Task&quot; =&gt; &quot;Regression&quot;, &quot;Regularized&quot; =&gt; true, &quot;Activation Function&quot; =&gt; relu, 
&quot;Validation Metric&quot; =&gt; &quot;mse&quot;,&quot;Number of Neurons&quot; =&gt; 2, 
&quot;Number of Neurons in Approximator&quot; =&gt; 10, &quot;β&quot; =&gt; [0.25714308], 
&quot;Causal Effect&quot; =&gt; -3.9101138, &quot;Standard Error&quot; =&gt; 1.903434356, &quot;p-value&quot; = 0.00123356}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L17-L62">source</a></section><section><div><pre><code class="nohighlight hljs">validate(m; num_treatments)</code></pre><p>This method tests the counterfactual consistency, exchangeability, and positivity  assumptions required for causal inference. It should be noted that consistency and  exchangeability are not directly testable, so instead, these tests do not provide definitive  evidence of a violation of these assumptions. To probe the counterfactual consistency  assumption, we assume there were multiple levels of treatments and find them by binning the dependent vairable for treated observations using Jenks breaks. The optimal number of breaks  between 2 and num_treatments is found using the elbow method. Using these hypothesized  treatment assignemnts, this method compares the MSE of linear regressions using the observed  and hypothesized treatments. If the counterfactual consistency assumption holds then the  difference between the MSE with hypothesized treatments and the observed treatments should  be positive because the hypothesized treatments should not provide useful information. If  it is negative, that indicates there was more useful information provided by the  hypothesized treatments than the observed treatments or that there is an unobserved  confounder. Next, this methods tests the model&#39;s sensitivity to a violation of the  exchangeability assumption by calculating the E-value, which is the minimum strength of  association, on the risk ratio scale, that an unobserved confounder would need to have with  the treatment and outcome variable to fully explain away the estimated effect. Thus, higher  E-values imply the model is more robust to a violation of the exchangeability assumption.  Finally, this method tests the positivity assumption by estimating propensity scores. Rows in the matrix are levels of covariates that have a zero probability of treatment. If the  matrix is empty, none of the observations have an estimated zero probability of treatment,  which implies the positivity assumption is satisfied.</p><p>For a thorough review of casual inference assumptions see:     Hernan, Miguel A., and James M. Robins. Causal inference what if. Boca Raton: Taylor and      Francis, 2024. </p><p>For more information on the E-value test see:     VanderWeele, Tyler J., and Peng Ding. &quot;Sensitivity analysis in observational research:      introducing the E-value.&quot; Annals of internal medicine 167, no. 4 (2017): 268-274.</p><p>Examples <code>julia-repl julia&gt; x, y, t = rand(100, 5), vec(rand(1:100, 100, 1)),      Float64.([rand()&lt;0.4 for i in 1:100]) julia&gt; g_computer = GComputation(x, y, t, temporal=false) julia&gt; estimate_causal_effect!(g_computer) julia&gt; validate(g_computer) 2.7653668647301795</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L73-L117">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.covariate_independence" href="#CausalELM.ModelValidation.covariate_independence"><code>CausalELM.ModelValidation.covariate_independence</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">covariate_independence(its; n)</code></pre><p>Test for independence between covariates and the event or intervention.</p><p>This is a Chow Test for covariates with p-values estimated via randomization inference. The  p-values are the proportion of times randomly assigning observations to the pre or  post-intervention period would have a larger estimated effect on the the slope of the  covariates. The lower the p-values, the more likely it is that the event/intervention  effected the covariates and they cannot provide an unbiased prediction of the counterfactual  outcomes.</p><p>For more information on using a Chow Test to test for structural breaks see:     Baicker, Katherine, and Theodore Svoronos. Testing the validity of the single      interrupted time series design. No. w26080. National Bureau of Economic Research, 2019.</p><p>For a primer on randomization inference see:      https://www.mattblackwell.org/files/teaching/s05-fisher.pdf</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; x₀, y₀, x₁, y₁ = (Float64.(rand(1:5, 100, 5)), randn(100), rand(1:5, (10, 5)), 
           randn(10))
julia&gt; its = InterruptedTimeSeries(x₀, y₀, x₁, y₁)
julia&gt; estimate_causal_effect!(its)
julia&gt; covariate_independence(its)
Dict(&quot;Column 1 p-value&quot; =&gt; 0.421, &quot;Column 5 p-value&quot; =&gt; 0.07, &quot;Column 3 p-value&quot; =&gt; 0.01, 
&quot;Column 2 p-value&quot; =&gt; 0.713, &quot;Column 4 p-value&quot; =&gt; 0.043)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L127-L156">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.omitted_predictor" href="#CausalELM.ModelValidation.omitted_predictor"><code>CausalELM.ModelValidation.omitted_predictor</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">omitted_predictor(its; n)</code></pre><p>See how an omitted predictor/variable could change the results of an interrupted time series  analysis.</p><p>This method reestimates interrupted time series models with normal random variables and  uniform noise. If the included covariates are good predictors of the counterfactual outcome,  adding a random variable as a covariate should not have a large effect on the predicted  counterfactual outcomes and therefore the estimated average effect.</p><p>For more information on using a Chow Test to test for structural breaks see:     Baicker, Katherine, and Theodore Svoronos. Testing the validity of the single      interrupted time series design. No. w26080. National Bureau of Economic Research, 2019.</p><p>For a primer on randomization inference see:      https://www.mattblackwell.org/files/teaching/s05-fisher.pdf</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; x₀, y₀, x₁, y₁ = (Float64.(rand(1:5, 100, 5)), randn(100), rand(1:5, (10, 5)), 
           randn(10))
julia&gt; its = InterruptedTimeSeries(x₀, y₀, x₁, y₁)
julia&gt; estimate_causal_effect!(its)
julia&gt; omitted_predictor(its)
Dict(&quot;Mean Biased Effect/Original Effect&quot; =&gt; -0.1943184744720332, &quot;Median Biased 
Effect/Original Effect&quot; =&gt; -0.1881814122689084, &quot;Minimum Biased Effect/Original Effect&quot; =&gt; 
-0.2725194360603799, &quot;Maximum Biased Effect/Original Effect&quot; =&gt; -0.1419197976977072)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L175-L204">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.sup_wald" href="#CausalELM.ModelValidation.sup_wald"><code>CausalELM.ModelValidation.sup_wald</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sup_wald(its; low, high, n)</code></pre><p>Check if the predicted structural break is the hypothesized structural break.</p><p>This method conducts Wald tests and identifies the structural break with the highest Wald  statistic. If this break is not the same as the hypothesized break, it could indicate an  anticipation effect, confounding by some other event or intervention, or that the  intervention or policy took place in multiple phases. p-values are estimated using  approximate randomization inference and represent the proportion of times we would see a  larger Wald statistic if the data points were randomly allocated to pre and post-event  periods for the predicted structural break.</p><p>For more information on using a Chow Test to test for structural breaks see:     Baicker, Katherine, and Theodore Svoronos. Testing the validity of the single      interrupted time series design. No. w26080. National Bureau of Economic Research, 2019.</p><p>For a primer on randomization inference see:      https://www.mattblackwell.org/files/teaching/s05-fisher.pdf</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; x₀, y₀, x₁, y₁ = (Float64.(rand(1:5, 100, 5)), randn(100), rand(1:5, (10, 5)), 
           randn(10))
julia&gt; its = InterruptedTimeSeries(x₀, y₀, x₁, y₁)
julia&gt; estimate_causal_effect!(its)
julia&gt; sup_wald(its)
Dict{String, Real}(&quot;Wald Statistic&quot; =&gt; 58.16649796321913, &quot;p-value&quot; =&gt; 0.005, &quot;Predicted 
Break Point&quot; =&gt; 39, &quot;Hypothesized Break Point&quot; =&gt; 100)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L231-L261">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.p_val" href="#CausalELM.ModelValidation.p_val"><code>CausalELM.ModelValidation.p_val</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p_val(x, y, β; n, wald)</code></pre><p>Estimate the p-value for the hypothesis that an event had a statistically significant effect  on the slope of a covariate using randomization inference.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; x, y, β = reduce(hcat, (float(rand(0:1, 10)), ones(10))), rand(10), 0.5
julia&gt; p_val(x, y, β)
0.98
julia&gt; p_val(x, y, β; n=100, wald=true)
0.08534054</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L289-L303">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.counterfactual_consistency" href="#CausalELM.ModelValidation.counterfactual_consistency"><code>CausalELM.ModelValidation.counterfactual_consistency</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">counterfactual_consistency(m; num_treatments)</code></pre><p>Examine the counterfactual consistency assumption. First, this function generates Jenks  breaks based on outcome values for the treatment group. Then, it replaces treatment statuses  with the numbers corresponding to each group. Next, it runs two linear regressions on for  the treatment group, one with and one without the fake treatment assignemnts generated by  the Jenks breaks. Finally, it subtracts the mean squared error from the regression with real  data from the mean squared error from the regression with the fake treatment statuses. If  this number is negative, it might indicate a violation of the counterfactual consistency  assumption or omitted variable bias.</p><p>For a primer on G-computation and its assumptions see:     Naimi, Ashley I., Stephen R. Cole, and Edward H. Kennedy. &quot;An introduction to g      methods.&quot; International journal of epidemiology 46, no. 2 (2017): 756-762.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; x, y, t = rand(100, 5), vec(rand(1:100, 100, 1)), 
    Float64.([rand()&lt;0.4 for i in 1:100])
julia&gt; g_computer = GComputation(x, y, t, temporal=false)
julia&gt; estimate_causal_effect!(g_computer)
julia&gt; counterfactual_consistency(g_computer)
2.7653668647301795</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L331-L356">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.exchangeability" href="#CausalELM.ModelValidation.exchangeability"><code>CausalELM.ModelValidation.exchangeability</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">exchangeability(model)</code></pre><p>Test the sensitivity of a G-computation or doubly robust estimator or metalearner to a  violation of the exchangeability assumption.</p><p>For more information on the E-value test see:     VanderWeele, Tyler J., and Peng Ding. &quot;Sensitivity analysis in observational research:      introducing the E-value.&quot; Annals of internal medicine 167, no. 4 (2017): 268-274.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; x, y, t = rand(100, 5), vec(rand(1:100, 100, 1)), 
    Float64.([rand()&lt;0.4 for i in 1:100])
julia&gt; g_computer = GComputation(x, y, t, temporal=false)
julia&gt; estimate_causal_effect!(g_computer)
julia&gt; e_value(g_computer)
1.13729886008143832</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L371-L390">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.e_value" href="#CausalELM.ModelValidation.e_value"><code>CausalELM.ModelValidation.e_value</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">e_value(model)</code></pre><p>Test the sensitivity of an estimator to a violation of the exchangeability assumption.</p><p>For more information on the E-value test see:     VanderWeele, Tyler J., and Peng Ding. &quot;Sensitivity analysis in observational research:      introducing the E-value.&quot; Annals of internal medicine 167, no. 4 (2017): 268-274.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; x, y, t = rand(100, 5), vec(rand(1:100, 100, 1)), 
    Float64.([rand()&lt;0.4 for i in 1:100])
julia&gt; g_computer = GComputation(x, y, t, temporal=false)
julia&gt; estimate_causal_effect!(g_computer)
julia&gt; e_value(g_computer)
2.2555405766985125</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L395-L413">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.positivity" href="#CausalELM.ModelValidation.positivity"><code>CausalELM.ModelValidation.positivity</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">positivity(model)</code></pre><p>Find likely violations of the positivity assumption.</p><p>This method uses an extreme learning machine or regularized extreme learning machine to  estimate probabilities of treatment. The returned matrix, which may be empty, are the  covariates that have a zero probability of treatment or zero probability of being assigned  to the control group, whith their entry in the last column denoted as 0 or 1 respectively.  In other words, they likely violate the positivity assumption.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; x, y, t = rand(100, 5), vec(rand(1:100, 100, 1)), 
    Float64.([rand()&lt;0.4 for i in 1:100])
julia&gt; g_computer = GComputation(x, y, t, temporal=false)
julia&gt; estimate_causal_effect!(g_computer)
julia&gt; positivity(g_computer)
0×5 Matrix{Float64}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L423-L443">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.sums_of_squares" href="#CausalELM.ModelValidation.sums_of_squares"><code>CausalELM.ModelValidation.sums_of_squares</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sums_of_squares(data, num_classes)</code></pre><p>Calculate the minimum sum of squares for each data point and class for the Jenks breaks      algorithm.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; sums_of_squares([1, 2, 3, 4, 5], 2)
5×2 Matrix{Real}:
 0.0       0.0
 0.25      0.25
 0.666667  0.666667
 1.25      1.16667
 2.0       1.75</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L471-L487">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.class_pointers" href="#CausalELM.ModelValidation.class_pointers"><code>CausalELM.ModelValidation.class_pointers</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">class_pointers(data, num_classes, sums_of_sqs)</code></pre><p>Compute class pointers that minimize the sum of squares for Jenks breaks.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; sums_squares = sums_of_sqs::Matrix{Float64}
5×2 Matrix{Float64}:
 0.0       0.0
 0.25      0.25
 0.666667  0.666667
 1.25      1.16667
 2.0       1.75
julia&gt; class_pointers([1, 2, 3, 4, 5], 2, sums_squares)
5×2 Matrix{Int64}:
 1  0
 1  1
 1  1
 1  1
 1  1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L508-L530">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.backtrack_to_find_breaks" href="#CausalELM.ModelValidation.backtrack_to_find_breaks"><code>CausalELM.ModelValidation.backtrack_to_find_breaks</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">backtrack_to_find_breaks(data, num_classes, sums_of_sqs)</code></pre><p>Determine break points from class assignments.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; data = [1, 2, 3, 4, 5]
[1, 2, 3, 4, 5]
5-element Vector{Int64}:
 1
 2
 3
 4
 5
julia&gt; ptr = class_pointers([1, 2, 3, 4, 5], 2, sums_of_squares([1, 2, 3, 4, 5], 2))
5×2 Matrix{Int64}:
 1  28
 1   1
 1   1
 1   1
 1   1
julia&gt; backtrack_to_find_breaks([1, 2, 3, 4, 5], ptr)
2-element Vector{Int64}:
 1
 4</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L551-L578">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.variance" href="#CausalELM.ModelValidation.variance"><code>CausalELM.ModelValidation.variance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">variance(data)</code></pre><p>Calculate the variance of some numbers.</p><p>Note this function does not use Besel&#39;s correction.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; variance([1, 2, 3, 4, 5])
2.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L600-L612">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.best_splits" href="#CausalELM.ModelValidation.best_splits"><code>CausalELM.ModelValidation.best_splits</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">best_splits(data, num_classes)</code></pre><p>Find the best number of splits for Jenks breaks.</p><p>This function finds the best number of splits by finding the number of splits that results      in the greatest decrease in the slope of the line between itself and its GVF and the      next higher number of splits and its GVF. This is the same thing as the elbow method.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; best_splits(collect(1:10), 5)
10-element Vector{Int64}:
 1
 3
 3
 ⋮
 3
 4</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L620-L640">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.group_by_class" href="#CausalELM.ModelValidation.group_by_class"><code>CausalELM.ModelValidation.group_by_class</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">group_by_class(data, classes)</code></pre><p>Group data points into vectors such that data points assigned to the same class are in the  same vector.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; group_by_class([1, 2, 3, 4, 5], [1, 1, 1, 2, 3])
3-element Vector{Vector{Real}}:
 [1, 2, 3]
 [4]
 [5]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L654-L668">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.jenks_breaks" href="#CausalELM.ModelValidation.jenks_breaks"><code>CausalELM.ModelValidation.jenks_breaks</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">jenks_breaks(data, num_classes)</code></pre><p>Generate Jenks breaks for a vector of real numbers.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; jenks_breaks([1, 2, 3, 4, 5], 3)
3-element Vector{Int64}:
 1
 3
 4</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L686-L699">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.fake_treatments" href="#CausalELM.ModelValidation.fake_treatments"><code>CausalELM.ModelValidation.fake_treatments</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fake_treatments(data, num_classes)</code></pre><p>Generate fake treatment statuses corresponding to the classes assigned by the Jenks breaks  algorithm.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; fake_treatments([1, 2, 3, 4, 5], 4)
5-element Vector{Int64}:
 1
 2
 3
 4
 4</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L709-L725">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.sdam" href="#CausalELM.ModelValidation.sdam"><code>CausalELM.ModelValidation.sdam</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sdam(x)</code></pre><p>Calculate the sum of squared deviations for array mean for a set of sub arrays.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; sdam([5, 4, 9, 10]) 
26.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L748-L758">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.scdm" href="#CausalELM.ModelValidation.scdm"><code>CausalELM.ModelValidation.scdm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sdcm(x)</code></pre><p>Calculate the sum of squared deviations for class means for a set of sub arrays.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; scdm([[4], [5, 9, 10]]) 
14.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L765-L775">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalELM.ModelValidation.gvf" href="#CausalELM.ModelValidation.gvf"><code>CausalELM.ModelValidation.gvf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gvf(x)</code></pre><p>Calculate the goodness of variance fit for a set of sub vectors.</p><p>Examples</p><pre><code class="language-julia-repl hljs">julia&gt; gvf([[4, 5], [9, 10]])
0.96153846153</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dscolby/CausalELM.jl/blob/c659c114c7ea1f728cfbcb718f0eec86c9be3e8f/src/model_validation.jl#L778-L788">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../inference/">« Inference and Summarization</a><a class="docs-footer-nextpage" href="../metrics/">Validation Metrics »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Sunday 26 November 2023 03:51">Sunday 26 November 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
